{"ast":null,"code":"var _jsxFileName = \"C:\\\\Proyectos_react\\\\parqueo-jc-completo-lte\\\\frontend\\\\src\\\\components\\\\Aside.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useSidebar } from './SidebarContext';\nimport logoClosedImage from '../assets/plantilla/logo11.png';\nimport logoOpenImage from '../assets/plantilla/logo_final_2.png';\nimport './Aside.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Aside = () => {\n  _s();\n  const {\n    isOpen\n  } = useSidebar();\n  const [isSessionValid, setIsSessionValid] = React.useState(true);\n  const [activeLink, setActiveLink] = useState('inicio'); // Inicializar con 'inicio'\n\n  const sesionString = localStorage.getItem(\"session\");\n  const sesion = sesionString ? JSON.parse(sesionString) : null;\n  React.useEffect(() => {\n    if (!sesion || !sesion.user) {\n      console.error(\"No se encontró la sesión o el usuario en localStorage\");\n      setIsSessionValid(false);\n      return;\n    }\n  }, [sesion]);\n  if (!isSessionValid) {\n    return null;\n  }\n  const perfil = sesion.user.perfil;\n  const MenuItem = ({\n    href,\n    icon,\n    title\n  }) => {\n    const handleClick = e => {\n      e.preventDefault();\n      setActiveLink(href);\n      window.location.href = href; // Redirigir a la nueva página\n    };\n    return /*#__PURE__*/_jsxDEV(\"li\", {\n      className: `nav-item ${href === activeLink ? 'active' : ''}`,\n      title: title,\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        href: href,\n        className: \"nav-link\",\n        onClick: handleClick,\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: `nav-icon ${icon}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this);\n  };\n  useEffect(() => {\n    const currentPath = window.location.pathname.replace('/', '');\n    setActiveLink(currentPath || 'inicio'); // Actualizar el enlace activo al cargar la página\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"aside\", {\n    className: `main-sidebar sidebar-dark-primary elevation-4 ${isOpen ? 'sidebar-open' : 'sidebar-closed'}`,\n    children: [/*#__PURE__*/_jsxDEV(\"a\", {\n      href: \"/inicio\",\n      className: \"brand-link\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: isOpen ? logoOpenImage : logoClosedImage,\n        alt: \"Logo\",\n        className: `brand-image ${isOpen ? 'logo-open' : 'logo-closed'}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar\",\n      children: /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"mt-2\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"nav nav-pills nav-sidebar flex-column\",\n          \"data-widget\": \"treeview\",\n          role: \"menu\",\n          \"data-accordion\": \"false\",\n          children: (perfil === \"Administrador\" || perfil === \"Especial\" || perfil === \"Vendedor\") && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n              href: \"inicio\",\n              icon: \"fa fa-home\",\n              title: \"Inicio\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 17\n            }, this), perfil === \"Administrador\" && /*#__PURE__*/_jsxDEV(MenuItem, {\n              href: \"usuarios\",\n              icon: \"fa fa-user\",\n              title: \"Usuarios\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 19\n            }, this), (perfil === \"Administrador\" || perfil === \"Especial\") && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                href: \"categorias\",\n                icon: \"fa fa-money\",\n                title: \"Tarifas\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                href: \"productos\",\n                icon: \"fa fa-indent\",\n                title: \"Ingresos\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                href: \"salidas\",\n                icon: \"fa fa-sign-out\",\n                title: \"Salidas\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true), (perfil === \"Administrador\" || perfil === \"Vendedor\") && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                href: \"clientes\",\n                icon: \"fa fa-users\",\n                title: \"Abonados\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                href: \"cajas\",\n                icon: \"fa fa-cart-plus\",\n                title: \"Caja\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                href: \"crear-venta\",\n                icon: \"fa fa-usd\",\n                title: \"Pagos\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true), perfil === \"Administrador\" && /*#__PURE__*/_jsxDEV(MenuItem, {\n              href: \"reportes\",\n              icon: \"fa fa-line-chart\",\n              title: \"Reporte ventas\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n_s(Aside, \"AECSVCGRq251zmolVc7lZRiTqEY=\", false, function () {\n  return [useSidebar];\n});\n_c = Aside;\nexport default Aside;\nvar _c;\n$RefreshReg$(_c, \"Aside\");","map":{"version":3,"names":["React","useState","useEffect","useSidebar","logoClosedImage","logoOpenImage","jsxDEV","_jsxDEV","Fragment","_Fragment","Aside","_s","isOpen","isSessionValid","setIsSessionValid","activeLink","setActiveLink","sesionString","localStorage","getItem","sesion","JSON","parse","user","console","error","perfil","MenuItem","href","icon","title","handleClick","e","preventDefault","window","location","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","currentPath","pathname","replace","src","alt","role","_c","$RefreshReg$"],"sources":["C:/Proyectos_react/parqueo-jc-completo-lte/frontend/src/components/Aside.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useSidebar } from './SidebarContext';\r\nimport logoClosedImage from '../assets/plantilla/logo11.png';\r\nimport logoOpenImage from '../assets/plantilla/logo_final_2.png';\r\nimport './Aside.css';\r\n\r\nconst Aside = () => {\r\n  const { isOpen } = useSidebar();\r\n  const [isSessionValid, setIsSessionValid] = React.useState(true);\r\n  const [activeLink, setActiveLink] = useState('inicio'); // Inicializar con 'inicio'\r\n\r\n  const sesionString = localStorage.getItem(\"session\");\r\n  const sesion = sesionString ? JSON.parse(sesionString) : null;\r\n\r\n  React.useEffect(() => {\r\n    if (!sesion || !sesion.user) {\r\n      console.error(\"No se encontró la sesión o el usuario en localStorage\");\r\n      setIsSessionValid(false);\r\n      return;\r\n    }\r\n  }, [sesion]);\r\n\r\n  if (!isSessionValid) {\r\n    return null;\r\n  }\r\n\r\n  const perfil = sesion.user.perfil;\r\n\r\n  const MenuItem = ({ href, icon, title }) => {\r\n    const handleClick = (e) => {\r\n      e.preventDefault();\r\n      setActiveLink(href);\r\n      window.location.href = href; // Redirigir a la nueva página\r\n    };\r\n\r\n    return (\r\n      <li className={`nav-item ${href === activeLink ? 'active' : ''}`} title={title}>\r\n        <a href={href} className=\"nav-link\" onClick={handleClick}>\r\n          <i className={`nav-icon ${icon}`}></i>\r\n          <p>{title}</p>\r\n        </a>\r\n      </li>\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    const currentPath = window.location.pathname.replace('/', '');\r\n    setActiveLink(currentPath || 'inicio'); // Actualizar el enlace activo al cargar la página\r\n  }, []);\r\n\r\n  return (\r\n    <aside className={`main-sidebar sidebar-dark-primary elevation-4 ${isOpen ? 'sidebar-open' : 'sidebar-closed'}`}>\r\n      <a href=\"/inicio\" className=\"brand-link\">\r\n        <img\r\n          src={isOpen ? logoOpenImage : logoClosedImage}\r\n          alt=\"Logo\"\r\n          className={`brand-image ${isOpen ? 'logo-open' : 'logo-closed'}`}\r\n        />\r\n      </a>\r\n      <div className=\"sidebar\">\r\n        <nav className=\"mt-2\">\r\n          <ul className=\"nav nav-pills nav-sidebar flex-column\" data-widget=\"treeview\" role=\"menu\" data-accordion=\"false\">\r\n            {(perfil === \"Administrador\" || perfil === \"Especial\" || perfil === \"Vendedor\") && (\r\n              <>\r\n                <MenuItem href=\"inicio\" icon=\"fa fa-home\" title=\"Inicio\" />\r\n                {perfil === \"Administrador\" && (\r\n                  <MenuItem href=\"usuarios\" icon=\"fa fa-user\" title=\"Usuarios\" />\r\n                )}\r\n                {(perfil === \"Administrador\" || perfil === \"Especial\") && (\r\n                  <>\r\n                    <MenuItem href=\"categorias\" icon=\"fa fa-money\" title=\"Tarifas\" />\r\n                    <MenuItem href=\"productos\" icon=\"fa fa-indent\" title=\"Ingresos\" />\r\n                    <MenuItem href=\"salidas\" icon=\"fa fa-sign-out\" title=\"Salidas\" />\r\n                  </>\r\n                )}\r\n                {(perfil === \"Administrador\" || perfil === \"Vendedor\") && (\r\n                  <>\r\n                    <MenuItem href=\"clientes\" icon=\"fa fa-users\" title=\"Abonados\" />\r\n                    <MenuItem href=\"cajas\" icon=\"fa fa-cart-plus\" title=\"Caja\" />\r\n                    <MenuItem href=\"crear-venta\" icon=\"fa fa-usd\" title=\"Pagos\" />\r\n                  </>\r\n                )}\r\n                {perfil === \"Administrador\" && (\r\n                  <MenuItem href=\"reportes\" icon=\"fa fa-line-chart\" title=\"Reporte ventas\" />\r\n                )}\r\n              </>\r\n            )}\r\n          </ul>\r\n        </nav>\r\n      </div>\r\n    </aside>\r\n  );\r\n};\r\n\r\nexport default Aside;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}